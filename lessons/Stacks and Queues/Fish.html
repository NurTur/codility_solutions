<!DOCTYPE html>
<html>
  <head> </head>
  <body></body>

  <script>
    function getNewC(C) {
      let i = C.length - 1;
      while (i > 0 && C.length !== 1) {
        if (C[i].direct === 0 && C[i - 1].direct === 1) {
          if (C[i].size > C[i - 1].size) {
            let bigFish = C.pop();
            C[i - 1] = bigFish;
          } else {
            C.pop();
          }
          --i;
          continue;
        }
        break;
      }
      return C;
    }

    function solution(A, B) {
      let len = A.length;
      let C = [{ size: A[0], direct: B[0] }];
      for (let i = 1; i < len; i++) {
        C.push({ size: A[i], direct: B[i] });
        C = getNewC(C);
      }
      return C.length;
    }

    console.log(solution([4, 3, 2, 1, 5], [0, 1, 0, 0, 0]));
  </script>
</html>
