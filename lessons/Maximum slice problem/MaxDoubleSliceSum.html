<!DOCTYPE html>
<html>
  <head> </head>
  <body></body>

  <script>
    function solution(A) {
      let len = A.length;
      let left = [0];
      let right = [];
      right[len - 1] = 0;
      for (let i = 1; i < len - 1; i++) {
        left[i] = Math.max(0, left[i - 1] + A[i]);
      }

      for (let i = len - 2; i > 0; i--) {
        right[i] = Math.max(0, right[i + 1] + A[i]);
      }

      let max = -Infinity;
      for (let i = 1; i < len - 1; i++) {
        max = Math.max(max, left[i - 1] + right[i + 1]);
      }

      return max;
    }

    console.log(solution([3, 2, 6, -9, 4, 5, -7, 2, 3, 2]));
  </script>
</html>
